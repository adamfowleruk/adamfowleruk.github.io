<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>CI/CD | Adam’s Dev Experience Blog</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="CI/CD">
<meta name="author" content="adamfowleruk">
<meta property="og:locale" content="en_US">
<meta name="description" content="CI/CD">
<meta property="og:description" content="CI/CD">
<link rel="canonical" href="https://blog.adamfowler.org.uk/level-100/cicd">
<meta property="og:url" content="https://blog.adamfowler.org.uk/level-100/cicd">
<meta property="og:site_name" content="Adam’s Dev Experience Blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-03-02T00:00:00+00:00">
<script type="application/ld+json">
{"author":{"@type":"Person","name":"adamfowleruk"},"url":"https://blog.adamfowler.org.uk/level-100/cicd","description":"CI/CD","@type":"BlogPosting","headline":"CI/CD","dateModified":"2022-03-02T00:00:00+00:00","datePublished":"2022-03-02T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.adamfowler.org.uk/level-100/cicd"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- head scripts -->
</head>

  <body>
    <nav class="navbar is-primary " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                Adam's Dev Experience Blog
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog" class="navbar-item ">Blog</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable ">
                        <a href="/level-100" class="navbar-link is-active">Level 100</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/level-100/cicd" class="navbar-item ">CI/CD</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <a href="/level-200" class="navbar-item ">Level 200</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable ">
                        <a href="/level-300" class="navbar-link ">Level 300</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/level-300/aircraft" class="navbar-item ">Aircraft Tracking</a>
                            
                        </div>
                    </div>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary">
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">CI/CD</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Mar 2, 2022 by adamfowleruk</p>

    

    <h1 id="cicd">CI/CD</h1>

<p>CI/CD stands for “Continuous Integration / Continuous Deployment”
and refers to the two broad steps in taking code from a
source code repository (usually Git based) and getting it ready
for running somewhere.</p>

<p>An individual CI/CD process definition is usually called a ‘pipeline’.</p>

<h2 id="continuous-integration-ci">Continuous Integration (CI)</h2>

<p>CI pipelines typically specify how to build source code
into an executable form, and any tests and packaging
that must be applied to this built code.</p>

<p>It is usual for a CI pipeline to be ran on a new source code
contribution (Pull Request) before accepting it into a
repository. This is to ensure the contribution doesn’t
break anything, and all tests for the project still pass.</p>

<p>This stage can also include static and dynamic code analysis
to spot performance and security problems, the generation
of documentation and API definitions based on source code,
or any single-repository actions that need to occur.</p>

<h3 id="in-repo-or-out-of-repo-ci">In repo or out of repo CI</h3>

<p>There are two common types of CI pipelines in use.</p>

<p>In repo pipelines exist within the code repository to
which the steps apply. If the code is on GitHub, for example,
you may see a .github/workflows folder. An example of this is
the <a href="https://github.com/adamfowleruk/adamfowleruk.github.io/tree/main/.github/workflows">folder containing a pipeline used to build this website!</a></p>

<p>Out of repo pipelines exist where an organisation has
several projects that all need to use a common build pipeline
(often called a buildpack) in order to ensure consistent
build, containerisation, and testing standards are applied.</p>

<p>Which you need to use depends on your org. If you’re just starting
out, then in-repo are supremely convenient. Once you get to 
multiple teams of developers, however, you may benefit from a 
more standardised approach that means you don’t have to keep 
redefining the same workflow per project.</p>

<h2 id="continuous-delivery-cd">Continuous Delivery (CD)</h2>

<p>Once the thing is built, you need to run the thing somewhere.
This is typically to allow integration testing with other
components…</p>

<p>“WAIT why doesn’t Continuous INTEGRATION do that?” - 
continuous integration integrates small software libraries into
a project, but doesn’t integrate the built thing to other built
things. This is what CD is for. You need to deploy something
in order to perform this level os integration testing.</p>

<p>“Oh, ok. Carry on!”</p>

<p>The first target for component testing may be in a development 
test environment. Should your new component pass this, then
the code branch may be ‘promoted’ as ready for a decision to
be published onto a ‘pre prod’ (Pre production) or ‘test’
system.</p>

<p>A development cluster is typically the target of a CD pipeline.
This takes the latest ‘develop’ branch of code, grabs the
‘debug’ built version from the CI process, and runs it alongside
the latest version of the other components in your complex
software project.</p>

<p>A ‘pre prod’ or ‘non prod’ or ‘qa’ or ‘pen test’ environment
is then used for components which have passed all tests and
where the overall software product manager (NOT project manager)
decides its ready for external review.</p>

<p>Whilst you may think this is for users to review, typically
in an agile project users will have been involved waaaaaay
before this in the dev cycle. So pre-prod testing is typically
reserved for testing performance, running penetration testing
to ensure system security, and testing failover, backup, restore,
upgrade, database migration, and other processes prior to
inflicting the new software version on users in the production
system.</p>

<p>The CD system is what stands between you and pushing out a flawed
release onto your users. So it’s crucially important although
few people manage this very well. (personal opinion) This is
perhaps because every organisations environment is different,
and so there’s a lot of variation to manage.</p>

<h2 id="approaches-imperative-versus-declarative">Approaches: Imperative versus declarative</h2>

<p>An imperative approach is like a recipe. Do A then B then C and if
the cake rises, happy days!</p>

<p>A declarative approach says “A finished cake depends upon 
ingredients being prepared and placed in the oven for a while. 
Has that happened yet?”. You typically specify ‘inputs’ and ‘outputs’ and tag which inputs cause a step to be triggered
if the input is changed.</p>

<p>For small projects - like this website using GitHub Actions to 
build it - an imperative approach is fine.</p>

<p>For large projects with many build versions, options,
deployment platforms, and complexity, then using the declarative
model and leaving the ordering of tasks up to your CI/CD
platform is by far the best approach. It’s much more stable,
and you can build up your process over time by adding building
blocks.</p>

<p>It won’t surprise you to learn that I prefer the declarative
approach for all multi-repository projects.</p>

<h2 id="declarative-cicdtools-">Declarative CI/CDtools:-</h2>

<h3 id="concourse"><a href="https://concourse-ci.org">Concourse</a></h3>
<p>The generic thing do-er from and supported by VMware Tanzu (formerly Pivotal Labs). (Declaration of interest: I work at VMware). This is an opensource tool that can run in Kubernetes, on a VM, or on your laptop.</p>

<p>Particularly good when you need ‘remote workers’. A good example of this is needing to run MacOS workers
as they’re the only computers that can build MacOS and iPadOS and iOS mobile applications.</p>

<p>No pipeline build UI, but has a great UI for putting on a monitor
at the edge of your dev team to monitor live progress. We do this
in our VMware Tanzu offices all the time. Here’s a couple of
examples:-</p>

<ul>
  <li>My <a href="/level-300/aircraft">Aircraft tracking demo</a> has its <a href="https://concourse.shared.12factor.xyz/teams/main/pipelines/adsb-images">own Concourse pipeline</a>
</li>
  <li>Concourse itself uses <a href="https://ci.concourse-ci.org/teams/main/pipelines/concourse">Concourse to build itself!</a>
</li>
</ul>

<p>Very strong documentation and examples are provided, and a
list of Concourse ‘resources’ (action types) are provided on
their website so finding plugins is easy.</p>

<h2 id="tekton">Tekton</h2>

<p>The new kid on the block. Think Concourse but re-engineered
to fit in with exactly how Kubernetes works. Inputs/outputs
look eerily familiar if you’ve used Concourse.</p>

<p>As the new kid on the block, the documentation is god awful
and disjointed. It uses K8S CRDs and K8S yaml format to
define pipelines. This may or may not be desirable to your
teams.</p>

<h2 id="imperative-cicd-tools-">Imperative CI/CD tools:-</h2>

<h3 id="github-actions">GitHub Actions</h3>

<p>An in-repo options for building your projects. CI tool with no 
UI to create the pipelines. I use this for building this website 
and publishing to GitHub Pages. Simple,
commonly used, and Just Works. The Ronseal of imperative CI.</p>

<h3 id="gitlab-actions">GitLab Actions</h3>

<p>Another in-repo option. GitLab is opensource, although most
people graduate to the Enterprise (paid for) edition pretty
quickly. CI tool with no UI to create the pipelines. Similar 
to GitHub Actions. Kinda OK if you like GitLab anyway.</p>

<h3 id="azure-devops-actions">Azure DevOps Actions</h3>

<p>Another in-repo option. Very nice UI for defining the
processes. If using Azure, definitely consider this. Many
of my customers use Azure DevOps Actions as it has nice
integration with Azure AD and 2 factor authentication for
their system single sign on. Not as many plugins in my 
experience as GitHub Actions or Concourse.</p>

<h2 id="ansible">Ansible</h2>

<p>God awful imperative way of doing things. Uses the concept
of ‘playbooks’. Seems easy at first, but as soon as you
go beyond trivial projects, the playbook concept becomes 
quite fragile and hard to maintain.</p>

<p>Ansible can be used for standing up environments, CI and CD.
Because of its broad use it’s very common, especially in IBM
shops as RedHat push this very hard in their platform.</p>

<p>Please don’t inflict Ansible on your DevOps teams.</p>

</div>

<div class="tags">
    
</div>


<p><strong>Share</strong></p>
<div class="buttons ">
    <a class="button is-medium is-facebook" onclick="window.open('https://www.facebook.com/share.php?u=https://blog.adamfowler.org.uk/level-100/cicd');">
        <span class="icon"><i class="fab fa-facebook fa-lg"></i></span>
    </a>
    <a class="button is-medium is-twitter" onclick="window.open('https://twitter.com/intent/tweet?text=https://blog.adamfowler.org.uk/level-100/cicd');">
        <span class="icon"><i class="fab fa-twitter fa-lg"></i></span>
    </a>
    <a class="button is-medium is-linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https://blog.adamfowler.org.uk/level-100/cicd&amp;title=CI%2FCD&amp;summary=&amp;source=');">
        <span class="icon"><i class="fab fa-linkedin fa-lg"></i></span>
    </a>
    <a class="button is-medium is-reddit" onclick="window.open('https://reddit.com/submit?url=https://blog.adamfowler.org.uk/level-100/cicd');">
        <span class="icon"><i class="fab fa-reddit fa-lg"></i></span>
    </a>
</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
        </div>
    </div>
</footer>

    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
</body>
</html>
